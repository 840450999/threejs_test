!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,(function(){return t={10:(t,e,n)=>{const{initEvent:r,extendEvent:i}=n(450),{isArr:o}=n(82);function s(t){for(var e=t.length,n=[],r=[],i=0;e--;){var o=t[i];"string"==typeof o?n.push(o):r.push(o),i++}return[n,r]}function c(...t){for(var e=t.length,n=0,i=0,o=[];e--;){var c=t[n];"function"==typeof c&&(o.push(s(t.slice(i,n))),o.push(c),i=n+1),n++}"function"!=typeof t[t.length-1]&&o.push(s(t.slice(i))),this.fns=o,r(this)}function u(...t){let e=new c(...t),n=async function(...t){return await e.exec(...t)};var r,i;return n.$yili=!0,n.y_=1,r=n,i=e,["on","emit","self","$yv2"].forEach((t=>r[t]=i[t].bind(i))),n}c.prototype.self=function(){return this},c.prototype.$yv2=()=>!0,Object.assign(u,{y_:1}),i(c),c.prototype.exec=async function(t){var e,n=this.fns,r=n.length,i=0;arguments.length>1&&(t=[...arguments],e=n[0][1][0],n[0][1][0]=1|e);for(var s={},c={};r--;){var u=n[i];if(1&i)try{var f=n[i-1][1];t=f[0]&&1&f[0]&&o(t)?await u(...t):await u(t),i++;continue}catch(e){var a=Object.keys(c).filter((t=>c[t]));return a.some((t=>this.evList["err:"+t]))&&a.forEach((n=>this.emit("err:"+n,{err:e,data:t,offset:i}))),Promise.reject(e)}u[0].forEach((t=>{s[t]?(this.emit("e:"+t,this),c[t]=s[t]=null):(this.emit("s:"+t,this),c[t]=s[t]=!0)})),i++}return n[0][1][0]=e,t},t.exports=u,t.exports.yi=u},450:(t,e,n)=>{let{isArr:r,isNum:i}=n(82),{isUnExist:o}=n(82);t.exports={initEvent:function(t){t._events=Object.create(null),t.evList=Object.create(null)},extendEvent:function(t){t.prototype.on=function(t){var e=this,n=[].slice.call(arguments,1);if(r(t))for(var i=0,o=t.length;i<o;i++)e.on.apply(e,[t[i]].concat(n));else e.evList[t]=!0,e._events[t]=(e._events[t]||[]).concat(n);return e},t.prototype.once=function(t){var e=this,n=[].slice.call(arguments,1);if(r(t))for(var i=0,o=t.length;i<o;i++)e.once.apply(e,[t[i]].concat(n));else e.evList[t]=!0,n=n.map((function(t){return function(){t.apply(t,arguments)}})),e._events[t]=(e._events[t]||[]).concat(n);return e},t.prototype.unEmit=function(t){this.evList[t]=!1},t.prototype.emit=function(t,e){if(this.evList[t]){var n=this,i=[].slice.call(arguments,1),s=null,c=null;if(r(t)){for(var u=0,f=t.length;u<f;u++){if(s=this._events[t[u]],o(n._events[t][u]))return;for(var a=0,l=s.length;a<l;a++)(c=s[a]).apply(c,i)}return n}if(!o(n._events[t])){if(1===(s=n._events[t]).length)return s[0].apply(n,i);for(u=0,f=s.length;u<f;u++)(c=s[u]).apply(n,i);return n}}}}}},82:t=>{function e(t){return function(e){return Object.prototype.toString.call(e)==="[object "+t+"]"}}var n=e("Array"),r=e("Function"),i=e("Number"),o=e("Object");t.exports={isArr:n,isFun:r,isNum:i,isObj:o,type:e,isUnExist:function(t){return null==t},isExist:function(t){return null!=t}}}},e={},function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}(10);var t,e}));